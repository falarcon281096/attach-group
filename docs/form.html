<!DOCTYPE html>
<html lang="es">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Cuéntanos sobre tu proyecto</title>
		<style>
			:root {
				--gradient-start: #1d3ede;
				--gradient-end: #6a2dee;
				--card-bg: rgba(17, 33, 104, 0.35);
				--input-bg: rgba(255, 255, 255, 0.08);
				--input-border: rgba(255, 255, 255, 0.4);
				--input-border-focus: rgba(255, 255, 255, 0.85);
				--button-bg: #ffffff;
				--button-text: #1e36d6;
				--text-primary: #ffffff;
				--text-secondary: rgba(255, 255, 255, 0.8);
			}

			*,
			*::before,
			*::after {
				box-sizing: border-box;
			}

			body {
				margin: 0;
				min-height: 100vh;
				font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
				background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
				color: var(--text-primary);
				display: flex;
				align-items: center;
				justify-content: center;
				padding: 48px 24px;
			}

			main {
				width: 100%;
				max-width: 1160px;
			}

			.container {
				display: flex;
				gap: 64px;
				align-items: stretch;
				flex-wrap: wrap;
			}

			.hero {
				flex: 1 1 320px;
				max-width: 380px;
			}

			.hero h1 {
				margin: 0 0 24px;
				font-size: clamp(2.6rem, 4vw, 3.6rem);
				line-height: 1.05;
				font-weight: 700;
			}

			.hero p {
				margin: 0;
				font-size: 1.05rem;
				line-height: 1.6;
				color: var(--text-secondary);
			}

			.form-wrapper {
				flex: 1 1 460px;
				background: var(--card-bg);
				backdrop-filter: blur(14px);
				border: 1px solid rgba(255, 255, 255, 0.18);
				border-radius: 28px;
				padding: 40px;
				box-shadow: 0 18px 38px rgba(8, 17, 70, 0.28);
			}

			.form-grid {
				display: grid;
				grid-template-columns: repeat(2, minmax(0, 1fr));
				gap: 20px 24px;
			}

			.form-grid .full-width {
				grid-column: 1 / -1;
			}

			label {
				display: block;
				font-size: 0.95rem;
				margin-bottom: 8px;
				font-weight: 500;
			}

			input,
			textarea {
				width: 100%;
				background: var(--input-bg);
				border: 1px solid var(--input-border);
				border-radius: 18px;
				padding: 16px 20px;
				color: var(--text-primary);
				font-family: inherit;
				font-size: 1rem;
				transition: border-color 0.2s ease, box-shadow 0.2s ease;
			}

			input:focus,
			textarea:focus {
				outline: none;
				border-color: var(--input-border-focus);
				box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.18);
			}

			::placeholder {
				color: rgba(255, 255, 255, 0.65);
			}

			button {
				background: var(--button-bg);
				color: var(--button-text);
				border: none;
				border-radius: 20px;
				padding: 16px 42px;
				font-size: 1.1rem;
				font-weight: 600;
				cursor: pointer;
				transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
			}

			button:hover {
				transform: translateY(-1px);
				box-shadow: 0 14px 24px rgba(10, 20, 90, 0.28);
			}

			button:disabled {
				cursor: not-allowed;
				opacity: 0.75;
				transform: none;
				box-shadow: none;
			}

			.status-message {
				margin-top: 16px;
				font-size: 0.95rem;
				color: #ffdede;
				min-height: 1.2em;
			}

			@media (max-width: 900px) {
				.container {
					gap: 48px;
				}

				.form-wrapper {
					padding: 32px;
				}

				.form-grid {
					grid-template-columns: 1fr;
				}
			}

			@media (max-width: 640px) {
				body {
					padding: 32px 16px;
				}

				.hero {
					max-width: none;
				}

				.hero h1 {
					font-size: clamp(2.2rem, 10vw, 3rem);
				}
			}
		</style>
	</head>

	<body>
		<script src="https://www.google.com/recaptcha/api.js" async defer></script>
		<main>
			<div class="container">
				<section class="hero">
					<h1>Cuéntanos<br>sobre tu<br>proyecto</h1>
					<p>Completa el formulario y pronto estaremos en contacto contigo.</p>
				</section>
				<section class="form-wrapper">
					<form id="contact-form" class="form-grid" method="post" action="https://us-central1-attach-group-web.cloudfunctions.net/attach-group-formhub-fn/attach-group-contact-form" novalidate>
						<div>
							<label for="fullName">Nombres y apellidos *</label>
							<input id="fullName" name="fullName" type="text" autocomplete="name" placeholder="Nombres y apellidos" minlength="2" maxlength="120" required>
						</div>
						<div>
							<label for="email">Email corporativo *</label>
							<input id="email" name="email" type="email" autocomplete="email" placeholder="Email corporativo" maxlength="160" required>
						</div>
						<div>
							<label for="company">Compañía *</label>
							<input id="company" name="company" type="text" placeholder="Compañía" minlength="2" maxlength="120" required>
						</div>
						<div>
							<label for="phone">Teléfono *</label>
							<input id="phone" name="phone" type="tel" placeholder="Teléfono" pattern="^[0-9+\-\s]{6,20}$" inputmode="tel" required>
						</div>
						<div class="full-width">
							<label for="message">¿Cómo podemos ayudarte? *</label>
							<textarea id="message" name="message" rows="6" placeholder="Cuéntanos sobre tu proyecto" minlength="10" maxlength="1500" required></textarea>
						</div>
						<div class="full-width" style="display:flex; justify-content:flex-start; align-items:center; gap:18px;">
							<button type="submit" class="g-recaptcha" data-sitekey="6Ldhz_QrAAAAAFAU3uXlDIg25xba9mPnk1yAIivC" data-callback="onRecaptchaSubmit" data-action="submit">Enviar</button>
							<span id="form-status" class="status-message" role="status" aria-live="polite"></span>
						</div>
					</form>
				</section>
			</div>
		</main>
		<script>
			// reCAPTCHA v2 invisible callback
			function onRecaptchaSubmit(token) {
				const form = document.getElementById('contact-form');
				const statusEl = document.getElementById('form-status');

				if (form) {
					statusEl.textContent = '';
					form.submit();
				}
			}

			// reCAPTCHA error handler
			function onRecaptchaError() {
				const submitButton = document.querySelector('.g-recaptcha');
				const statusEl = document.getElementById('form-status');

				if (submitButton) {
					submitButton.disabled = false;
					submitButton.textContent = 'Enviar';
				}
				if (statusEl) {
					statusEl.textContent = 'Error en reCAPTCHA. Intenta nuevamente.';
				}
			}

			(function () {
				const form = document.getElementById('contact-form');
				const submitButton = form.querySelector('.g-recaptcha');
				const statusEl = document.getElementById('form-status');
				const defaultButtonText = 'Enviar';

				form.addEventListener('submit', function (event) {
					event.preventDefault();
					statusEl.textContent = '';

					if (!form.checkValidity()) {
						form.reportValidity();
						return;
					}

					submitButton.disabled = true;
					submitButton.textContent = 'Enviando…';

					// Execute reCAPTCHA v2 invisible
					if (typeof grecaptcha !== 'undefined') {
						grecaptcha.execute();
					} else {
						// Fallback if reCAPTCHA script fails to load
						form.submit();
					}
				});
			})();
		</script>
	</body>

</html>